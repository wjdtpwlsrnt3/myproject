<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <ul id="menu">
            <li data-category="business">경제</li>
            <li data-category="entertainment">엔터테이먼트</li>
            <li data-category="health">건강</li>
            <li data-category="science">과학</li>
            <li data-category="sports">스포츠</li>
            <li data-category="technology">기술</li>
        </ul>
    </div>
    <div id="news"></div>
    <script>
        function showNews(category = 'general') {
            var url = `https://newsapi.org/v2/top-headlines?`
                + `country=kr&`
                + `category=${category}&`
                + `apiKey=0a2cc7deb6c947d0abaa2eac28789ce9`;

            var req = new Request(url);

            fetch(req)
                .then(function (response) {
                    console.log(response);
                    return response.json();
                })
                .then(data => {
                    console.log(data.articles[0]);
                    for (article of data.articles) {
                        let divTitle = document.createElement('div');
                        let imgUrl = document.createElement('img');
                        divTitle.innerHTML = `<h3><a href="${article.url}" target="_blank">${article.title}</a></h3>`;
                        imgUrl.src = article.urlToImage;
                        imgUrl.alt = article.title;
                        imgUrl.width = 100;

                        console.log(article.author);
                        console.log(article.title);
                        console.log(article.url);
                        console.log(article.urlToImage);
                        news.append(divTitle);
                        news.append(imgUrl);
                    }
                });
        }

        showNews();

        menu.chil.foreach(function (val, index) {
            console.log(val);
        });
        
    </script>
</body>

</html>